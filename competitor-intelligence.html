<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CompeteIQ - AI Competitor Intelligence</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --cyber-blue: #00f3ff;
            --cyber-pink: #ff00aa;
            --cyber-purple: #9d4edd;
            --dark-bg: #0a0e27;
            --darker-bg: #050814;
            --card-bg: #151932;
            --text-primary: #e0e7ff;
            --text-secondary: #94a3b8;
            --success: #00ff88;
            --warning: #ffb627;
        }

        body {
            font-family: 'Space Mono', monospace;
            background: var(--dark-bg);
            color: var(--text-primary);
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(157, 78, 221, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(0, 243, 255, 0.1) 0%, transparent 50%);
        }

        .background-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -1;
            animation: gridPulse 4s ease-in-out infinite;
        }

        @keyframes gridPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 0.8s ease-out;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--cyber-blue), var(--cyber-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 4px;
            text-shadow: 0 0 30px rgba(0, 243, 255, 0.5);
        }

        .tagline {
            font-size: 1.1rem;
            color: var(--text-secondary);
            letter-spacing: 2px;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid rgba(0, 243, 255, 0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            animation: fadeInUp 0.8s ease-out;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--cyber-blue), transparent);
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--cyber-blue);
            box-shadow: 0 10px 40px rgba(0, 243, 255, 0.2);
        }

        .card-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--cyber-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .icon {
            font-size: 1.5rem;
        }

        .competitor-input {
            width: 100%;
            background: var(--darker-bg);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 8px;
            padding: 15px;
            color: var(--text-primary);
            font-family: 'Space Mono', monospace;
            font-size: 0.9rem;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .competitor-input:focus {
            outline: none;
            border-color: var(--cyber-blue);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
        }

        .btn {
            background: linear-gradient(135deg, var(--cyber-blue), var(--cyber-purple));
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            color: white;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            width: 100%;
            font-size: 1rem;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 25px rgba(0, 243, 255, 0.5);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .competitor-list {
            margin-top: 20px;
        }

        .competitor-item {
            background: var(--darker-bg);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 3px solid var(--cyber-pink);
            animation: slideInRight 0.5s ease-out;
        }

        .competitor-name {
            font-weight: 700;
            color: var(--cyber-blue);
            margin-bottom: 5px;
        }

        .competitor-detail {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 3px;
        }

        .analysis-section {
            grid-column: 1 / -1;
            animation: fadeInUp 1s ease-out;
        }

        .loading {
            text-align: center;
            padding: 40px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(0, 243, 255, 0.1);
            border-top: 3px solid var(--cyber-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result-section {
            margin-top: 30px;
        }

        .insight-card {
            background: linear-gradient(135deg, rgba(0, 243, 255, 0.1), rgba(157, 78, 221, 0.1));
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 243, 255, 0.3);
            animation: slideInLeft 0.6s ease-out;
        }

        .insight-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            color: var(--cyber-pink);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .insight-content {
            line-height: 1.8;
            color: var(--text-primary);
        }

        .highlight {
            color: var(--success);
            font-weight: 700;
        }

        .differentiator {
            background: var(--darker-bg);
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid var(--success);
        }

        .differentiator-title {
            color: var(--success);
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: var(--darker-bg);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255, 0, 170, 0.3);
        }

        .stat-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: var(--cyber-pink);
            font-weight: 900;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            .logo {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="background-grid"></div>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function CompetitorIntelligence() {
            const [competitors, setCompetitors] = useState([
                {
                    name: 'FeedTrack',
                    features: 'Sentiment analysis, dashboards',
                    pricing: '$49/month',
                    target: 'SMBs',
                    weaknesses: 'Too many dashboards, not actionable'
                },
                {
                    name: 'ReviewIQ',
                    features: 'Review aggregation, tagging',
                    pricing: '$79/month',
                    target: 'Enterprises',
                    weaknesses: 'Expensive and slow setup'
                },
                {
                    name: 'VoicePulse',
                    features: 'Survey + NPS reports',
                    pricing: '$29/month',
                    target: 'Startups',
                    weaknesses: 'Reports are generic, no insights'
                }
            ]);

            const [newCompetitor, setNewCompetitor] = useState({
                name: '',
                features: '',
                pricing: '',
                target: '',
                weaknesses: ''
            });

            const [analyzing, setAnalyzing] = useState(false);
            const [analysis, setAnalysis] = useState(null);

            const addCompetitor = () => {
                if (newCompetitor.name) {
                    setCompetitors([...competitors, newCompetitor]);
                    setNewCompetitor({
                        name: '',
                        features: '',
                        pricing: '',
                        target: '',
                        weaknesses: ''
                    });
                }
            };

            const analyzeCompetitors = async () => {
                setAnalyzing(true);
                
                const prompt = `You are a competitive product strategist analyzing the customer feedback software market.

Analyze the following competitor data and provide strategic insights.

COMPETITOR DATA:
${competitors.map(c => `
Competitor: ${c.name}
Features: ${c.features}
Pricing: ${c.pricing}
Target Users: ${c.target}
User Complaints: "${c.weaknesses}"
`).join('\n')}

YOUR TASK:
1. Identify common features across all competitors (market saturation)
2. Extract key weaknesses and unmet user needs
3. Find white space opportunities in the market
4. Suggest 4 UNIQUE, SPECIFIC product differentiators that will win customers
5. Provide a bold positioning statement

Format your response as JSON with this structure:
{
  "commonFeatures": ["feature1", "feature2", ...],
  "keyWeaknesses": ["weakness1", "weakness2", ...],
  "marketGaps": ["gap1", "gap2", ...],
  "differentiators": [
    {
      "title": "Differentiator Name",
      "description": "Detailed explanation",
      "competitiveEdge": "Why this beats competitors"
    }
  ],
  "positioningStatement": "One powerful sentence",
  "stats": {
    "marketSaturation": "percentage",
    "opportunityScore": "1-10",
    "estimatedImpact": "High/Medium/Low"
  }
}`;

                try {
                    const response = await fetch('https://api.anthropic.com/v1/messages', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            model: 'claude-sonnet-4-20250514',
                            max_tokens: 1000,
                            messages: [
                                {
                                    role: 'user',
                                    content: prompt
                                }
                            ]
                        })
                    });

                    const data = await response.json();
                    const textContent = data.content.find(item => item.type === 'text')?.text || '';
                    
                    // Extract JSON from response
                    const jsonMatch = textContent.match(/\{[\s\S]*\}/);
                    if (jsonMatch) {
                        const analysisResult = JSON.parse(jsonMatch[0]);
                        setAnalysis(analysisResult);
                    } else {
                        // Fallback demo data
                        setAnalysis(getDemoAnalysis());
                    }
                } catch (error) {
                    console.error('API Error:', error);
                    // Use demo data on error
                    setAnalysis(getDemoAnalysis());
                }

                setAnalyzing(false);
            };

            const getDemoAnalysis = () => ({
                commonFeatures: [
                    'Sentiment analysis dashboards',
                    'Basic feedback collection',
                    'Survey tools',
                    'NPS tracking'
                ],
                keyWeaknesses: [
                    'Data visualization without actionable insights',
                    'Generic reports not tailored to user roles',
                    'No connection to product development workflow',
                    'High pricing for limited value',
                    'Slow time-to-insight'
                ],
                marketGaps: [
                    'AI-driven decision-making layer',
                    'Automated feature roadmap generation',
                    'Real-time competitive intelligence',
                    'Role-specific insight delivery',
                    'Action-first intelligence (not data-first)'
                ],
                differentiators: [
                    {
                        title: 'Action-First Feedback Intelligence',
                        description: 'Instead of showing dashboards, AI tells you exactly what to fix, why, and how. Converts customer feedback into prioritized action items with implementation guidance.',
                        competitiveEdge: 'Competitors show charts. You give decision-ready actions that save teams 15+ hours/week.'
                    },
                    {
                        title: 'Real-Time Competitive Alerts',
                        description: 'Monitor competitor review trends across all platforms. Get instant alerts when competitors receive negative feedback on pricing, features, or support.',
                        competitiveEdge: 'Competitors analyze only their own data. You provide market-wide competitive intelligence.'
                    },
                    {
                        title: 'AI-Generated Feature Roadmap',
                        description: 'AI automatically converts customer complaints and feature requests into sprint-ready tasks with priority scores, effort estimates, and expected impact.',
                        competitiveEdge: 'Others stop at insights. You connect feedback directly to product development in Jira/Linear.'
                    },
                    {
                        title: 'Persona-Based Insights',
                        description: 'CEO sees revenue impact. Product Manager sees feature priorities. Support sees common issues. Same data, role-optimized intelligence.',
                        competitiveEdge: 'Competitors show same generic report to everyone. You deliver role-specific actionable intelligence.'
                    }
                ],
                positioningStatement: 'We don\'t analyze feedback. We tell you what to build next.',
                stats: {
                    marketSaturation: '80%',
                    opportunityScore: '9',
                    estimatedImpact: 'High'
                }
            });

            return (
                <div className="container">
                    <div className="header">
                        <div className="logo">‚ö° CompeteIQ</div>
                        <div className="tagline">AI-Powered Competitive Intelligence</div>
                    </div>

                    <div className="main-grid">
                        <div className="card">
                            <div className="card-title">
                                <span className="icon">üéØ</span>
                                Add Competitor
                            </div>
                            <input
                                type="text"
                                className="competitor-input"
                                placeholder="Competitor Name"
                                value={newCompetitor.name}
                                onChange={(e) => setNewCompetitor({...newCompetitor, name: e.target.value})}
                            />
                            <input
                                type="text"
                                className="competitor-input"
                                placeholder="Core Features"
                                value={newCompetitor.features}
                                onChange={(e) => setNewCompetitor({...newCompetitor, features: e.target.value})}
                            />
                            <input
                                type="text"
                                className="competitor-input"
                                placeholder="Pricing (e.g., $49/month)"
                                value={newCompetitor.pricing}
                                onChange={(e) => setNewCompetitor({...newCompetitor, pricing: e.target.value})}
                            />
                            <input
                                type="text"
                                className="competitor-input"
                                placeholder="Target Users"
                                value={newCompetitor.target}
                                onChange={(e) => setNewCompetitor({...newCompetitor, target: e.target.value})}
                            />
                            <input
                                type="text"
                                className="competitor-input"
                                placeholder="User Complaints / Weaknesses"
                                value={newCompetitor.weaknesses}
                                onChange={(e) => setNewCompetitor({...newCompetitor, weaknesses: e.target.value})}
                            />
                            <button className="btn" onClick={addCompetitor}>
                                Add Competitor
                            </button>
                        </div>

                        <div className="card">
                            <div className="card-title">
                                <span className="icon">üìä</span>
                                Competitor Database ({competitors.length})
                            </div>
                            <div className="competitor-list">
                                {competitors.map((comp, idx) => (
                                    <div key={idx} className="competitor-item">
                                        <div className="competitor-name">{comp.name}</div>
                                        <div className="competitor-detail">üí∞ {comp.pricing} ‚Ä¢ {comp.target}</div>
                                        <div className="competitor-detail">‚ö†Ô∏è {comp.weaknesses}</div>
                                    </div>
                                ))}
                            </div>
                            <button 
                                className="btn" 
                                onClick={analyzeCompetitors}
                                disabled={analyzing}
                                style={{marginTop: '20px'}}
                            >
                                {analyzing ? 'Analyzing...' : 'üß† Run AI Analysis'}
                            </button>
                        </div>

                        {analyzing && (
                            <div className="card analysis-section">
                                <div className="loading">
                                    <div className="spinner"></div>
                                    <div>AI analyzing competitive landscape...</div>
                                </div>
                            </div>
                        )}

                        {analysis && !analyzing && (
                            <div className="card analysis-section">
                                <div className="card-title">
                                    <span className="icon">üèÜ</span>
                                    Competitive Intelligence Report
                                </div>

                                <div className="stats-grid">
                                    <div className="stat-card">
                                        <div className="stat-value">{analysis.stats.marketSaturation}</div>
                                        <div className="stat-label">Market Saturation</div>
                                    </div>
                                    <div className="stat-card">
                                        <div className="stat-value">{analysis.stats.opportunityScore}/10</div>
                                        <div className="stat-label">Opportunity Score</div>
                                    </div>
                                    <div className="stat-card">
                                        <div className="stat-value">{analysis.stats.estimatedImpact}</div>
                                        <div className="stat-label">Impact Potential</div>
                                    </div>
                                </div>

                                <div className="result-section">
                                    <div className="insight-card">
                                        <div className="insight-title">
                                            <span>‚ö†Ô∏è</span> Market Saturation (Don't Build These)
                                        </div>
                                        <div className="insight-content">
                                            {analysis.commonFeatures.map((feature, idx) => (
                                                <div key={idx}>‚Ä¢ {feature}</div>
                                            ))}
                                        </div>
                                    </div>

                                    <div className="insight-card">
                                        <div className="insight-title">
                                            <span>üîç</span> Key Competitor Weaknesses
                                        </div>
                                        <div className="insight-content">
                                            {analysis.keyWeaknesses.map((weakness, idx) => (
                                                <div key={idx}>‚Ä¢ {weakness}</div>
                                            ))}
                                        </div>
                                    </div>

                                    <div className="insight-card">
                                        <div className="insight-title">
                                            <span>üíé</span> White Space Opportunities
                                        </div>
                                        <div className="insight-content">
                                            {analysis.marketGaps.map((gap, idx) => (
                                                <div key={idx} className="highlight">‚úì {gap}</div>
                                            ))}
                                        </div>
                                    </div>

                                    <div className="insight-card">
                                        <div className="insight-title">
                                            <span>üöÄ</span> AI-Generated Unique Differentiators
                                        </div>
                                        {analysis.differentiators.map((diff, idx) => (
                                            <div key={idx} className="differentiator">
                                                <div className="differentiator-title">
                                                    {idx + 1}. {diff.title}
                                                </div>
                                                <div className="insight-content">
                                                    <strong>What:</strong> {diff.description}
                                                    <br/><br/>
                                                    <strong className="highlight">Why You Win:</strong> {diff.competitiveEdge}
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    <div className="insight-card">
                                        <div className="insight-title">
                                            <span>üéØ</span> Recommended Positioning
                                        </div>
                                        <div className="insight-content" style={{fontSize: '1.2rem', fontWeight: '700', color: 'var(--success)'}}>
                                            "{analysis.positioningStatement}"
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<CompetitorIntelligence />, document.getElementById('root'));
    </script>
</body>
</html>
